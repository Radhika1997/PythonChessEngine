#:import Factory kivy.factory.Factory

BoxLayout:
    orientation: 'vertical'

    canvas.before:
        Color:
            rgb: .6, .6, .6
        Rectangle:
            size: self.size
    ActionBar:
        pos_hint: {'top':1}
        ActionView:
            use_separator: True
            ActionPrevious:
                title: 'Chess Engine'
                with_previous: False
                app_icon: 'game/images/icon.png'
            ActionOverflow:
            ActionButton:
                text: 'Home'
                on_press: sm.current = 'main'
            ActionButton:
                text: 'Undo'
                on_press: app.undo()
            ActionButton:
                text: 'Redo'
                on_press: app.redo()
            ActionButton:
                text: 'Restart'
                on_press: app.restart()
            ActionGroup:
                text: 'Drop'
                ActionButton:
                    text: 'For'
                ActionButton:
                    text: 'Future'
                ActionButton:
                    text: 'Use'
            ActionGroup:
                text: 'Menu'
                ActionButton:
                    text: 'Load PGN File'
                ActionButton:
                    text: 'Something'
                ActionButton:
                    text: 'Exit'
                    on_release: app.btn_exit()

    ScreenManagement:
        id: sm
        transition: Factory.get('FadeTransition')()
        MainScreen:
            name: 'main'
            id : ms
            canvas.before:
                Color:
                    rgb: 0.15, 0.15, 0.15
                Rectangle:
                    size: self.size

        GameScreen:
            name: 'game'
            id: gs
            BoxLayout:
                orientation: 'vertical'

                GameLayout:
